<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="report_session_tickets_template">
        <t t-call="web.html_container">
            <t t-set="base_url" t-value="env['ir.config_parameter'].sudo().get_param('web.base.url')"/>
            <t t-foreach="docs" t-as="o">
                <t t-set="company" t-value="res_company"/>
                <t t-set="qty" t-value="o.tickets_qty or 50"/>
                <t t-foreach="range(qty)" t-as="n">
                    <div class="page" style="height: 40mm; width: 100mm; margin: 0; padding: 2mm 4mm; font-family: 'Helvetica', 'Arial', sans-serif; background: #fff; page-break-after: always; border-bottom: 0.1mm dashed #ccc;">
                        <table style="width: 100%; border-collapse: collapse; height: 36mm;">
                            <!-- Header Row -->
                            <tr>
                                <td style="width: 35mm; vertical-align: middle; padding-bottom: 2mm; border-bottom: 1.5mm solid #0066cc;">
                                    <img t-if="company.logo" t-attf-src="data:image/*;base64,{{company.logo}}" style="max-height: 14mm; max-width: 32mm;"/>
                                </td>
                                <td style="vertical-align: middle; text-align: right; padding-bottom: 2mm; border-bottom: 1.5mm solid #0066cc;">
                                    <div style="font-size: 14pt; font-weight: 950; color: #000; text-transform: uppercase; letter-spacing: 0.5mm;">
                                        FNCV
                                    </div>
                                    <div style="font-size: 9pt; color: #666; font-weight: bold;">
                                        Federación de Natación
                                    </div>
                                </td>
                            </tr>
                            <!-- Main Content Row -->
                            <tr>
                                <td style="padding-top: 4mm; vertical-align: top;">
                                    <div style="font-size: 14pt; font-weight: bold; color: #0066cc;">
                                        <t t-out="o.name or 'SESIÓN'"/>
                                    </div>
                                    <div style="font-size: 10pt; color: #333; margin-top: 1mm; font-weight: bold;">
                                        <t t-out="o.date.strftime('%d/%m/%Y %H:%M') if o.date else ''"/>
                                    </div>
                                    <div style="margin-top: 5mm; border-top: 0.3mm solid #0066cc; padding-top: 2mm;">
                                        <div style="font-size: 9pt; font-weight: 900; text-transform: uppercase; color: #444;">
                                            ENTRADA DE ACCESO
                                        </div>
                                        <div style="font-size: 7pt; color: #888;">
                                            Comunidad Valenciana
                                        </div>
                                    </div>
                                </td>
                                <td style="padding-top: 4mm; text-align: right; vertical-align: top;">
                                    <div style="display: inline-block; text-align: center; width: 30mm;">
                                        <div style="font-size: 32pt; font-weight: 950; color: #0066cc; line-height: 1; margin-bottom: 1mm;">
                                            <t t-out="str(n+1).zfill(3)"/>
                                        </div>
                                        <div style="padding: 1.5mm; border: 0.5mm solid #0066cc; border-radius: 2mm; background: #fff; display: inline-block;">
                                            <img t-att-src="base_url + '/report/barcode/QR/Session_' + str(o.id) + '_Ticket_' + str(n+1)" style="width: 22mm; height: 22mm; display: block;"/>
                                        </div>
                                        <div style="font-size: 6pt; color: #bbb; margin-top: 1mm; font-family: monospace; font-weight: bold;">
                                            ID-<t t-out="o.id"/>-T<t t-out="n+1"/>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                </t>
            </t>
        </t>
    </template>
</odoo>